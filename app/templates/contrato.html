{% extends 'base.html' %}

{% block content %}
<h2>Detalhes do Contrato</h2>

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        Informação Geral
    </div>
    <div class="card-body">
        <h5 class="card-title">Contrato #{{ contrato.idContrato }}</h5>
        <p class="card-text"><strong>Objeto:</strong> {{ contrato.objetoContrato }}</p>
        <p class="card-text"><strong>Data Publicação:</strong> {{ contrato.dataPublicacao }}</p>
        <p class="card-text"><strong>Data Celebração:</strong> {{ contrato.dataCelebracao }}</p>
    </div>
</div>

<h3>Detalhes Adicionais</h3>
<div class="table-responsive">
    <table class="table table-bordered table-hover">
        <thead class="thead-light">
            <tr>
                <th>Preço</th>
                <th>Prazo (dias)</th>
                <th>Centralizado</th>
                <th>Fundamentação</th>
                <th>Adjudicatário</th>
                <th>Adjudicante</th>
                <th>Município</th>
                <th>Distrito</th>
                <th>País</th>
                <th>Acordo</th>
                <th>Tipo Proc.</th>
                <th>CPV</th>
                <th>Tipo Contrato</th>
            </tr>
        </thead>
        <tbody>
            {% for d in detalhes %}
            <tr>
                <td>{{ d.precoContratual }} €</td>
                <td>{{ d.prazoExecucao }}</td>
                <td>{{ d.centralizado }}</td>
                <td>{{ d.fundamentacao }}</td>
                <td><a href="/adjudicatarios/{{ d.idAdjudicatario }}/">{{ d.adjudicatario }}</a></td>
                <td><a href="/adjudicantes/{{ d.idAdjudicante }}/">{{ d.adjudicante }}</a></td>
                <td><a href="/pais/distritos/municipios/{{ d.idMun }}/">{{ d.municipio }}</a></td>
                <td><a href="/pais/distritos/{{ d.idDist }}/">{{ d.distrito }}</a></td>
                <td><a href="/pais/{{ d.idPais }}/">{{ d.pais }}</a></td>
                <td>{{ d.acordo }}</td>
                <td>{{ d.tipo_proc }}</td>
                <td>{{ d.cpv }}</td>
                <td>{{ d.tipo_contrato }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="13">Não existem detalhes adicionais disponíveis.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="/contratos/" class="btn btn-secondary mt-3">Voltar à lista</a>
{% endblock %}